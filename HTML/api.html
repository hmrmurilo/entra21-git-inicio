<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <title>Primeira p치gina html</title>
    <meta charset="UTF-8">
    <meta name="desciption" content="Primeira p치gina web">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Murilo Machado">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <link rel="stylesheet" href="css/styles.css"> 
    <script type="text/javascript">

        function requestImg() {
            let url = text == null ?
                "https://cataas.com/cat?json=true" :
                `https://cataas.com/cat/says/${texto}?json=true`;
                

            let req = new XMLHttpRequest();
            req.open ("GET", "https://cataas.com/cat?json=true", true);
            req.onload = () => {
                let img = document.getElementsByTagName("img")[0]
                img.src = "https://cataas.com" +
                    JSON.parse(req.responseText).url;
                img.onload = () => document.getElementsByTagName("button")[0].disabled = false;

            }
            document.getElementsByTagName("button")[0].disabled = true;
            req.send(null);
        }
        
        
        function loadImg() {
            requestImg();
        
        }

        function loadImgWithText() {


            // let texto = prompt("Digite o texto a ser inserido na imagem");

            // let req = new XMLHttpRequest();
            // req.open ("GET", `https://cataas.com/cat/says/${texto}?json=true`, true);
            // req.onload = () => {
            //     let img = document.getElementsByTagName("img")[0]
            //     img.src = "https://cataas.com" +
            //         JSON.parse(req.responseText).url;
            //     img.onload = () => document.getElementsByTagName("button")[0].disabled = false;

            // }
            // document.getElementsByTagName("button")[0].disabled = true;
            // req.send(null);
            
        
        }
    </script>

    </head>
    <body>
        <img class="fotogato" src/>
        <button class="botaogato" onclick="loadImg()">Get CAT</button>
        <button class="botaogato" onclick="loadImgWithText()">Get CAT width text</button>

    </body> 
    </html>

    <!-- <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <title>Primeira p치gina html</title>
    <meta charset="UTF-8">
    <meta name="desciption" content="Primeira p치gina web">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Murilo Machado">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <link rel="stylesheet" href="css/styles.css"> 
    <script type="text/javascript">
        function loadCharList() {
            let req = new XMLHttpRequest();
            req.open("GET", "http://hp-api.herokuapp.com/api/characters", false);
            req.send(null);
            document.getElementById("charlist").innerHTML = 
                JSON.parse(req.responseText).map(char => `
                <li>${char.name}</li>
                `).join("");   
        }
      
        </script>
    </head>
    <body onload="loadCharList()">
      <ul id="charlist"></ul>

    </body> 
    </html> -->